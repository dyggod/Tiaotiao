{"remainingRequest":"F:\\dyg\\myproject\\film\\vue_app\\node_modules\\babel-loader\\lib\\index.js!F:\\dyg\\myproject\\film\\vue_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\dyg\\myproject\\film\\vue_app\\src\\components\\film\\register.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\dyg\\myproject\\film\\vue_app\\src\\components\\film\\register.vue","mtime":1561634108000},{"path":"F:\\dyg\\myproject\\film\\vue_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"F:\\dyg\\myproject\\film\\vue_app\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"F:\\dyg\\myproject\\film\\vue_app\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//引入titlebar\nimport titlebar from \"./common/titlebar\";\nexport default {\n  data: function data() {\n    return {\n      title: \"跳跳电影\",\n      uname: \"\",\n      upwd: \"\",\n      upwdAgain: \"\",\n      uname_popupVisible: false,\n      upwd_popupVisible: false,\n      upwdAgain_popupVisible: false,\n      upwdErr_popupVisible: false,\n      has: false\n    };\n  },\n  methods: {\n    //1.注册事件\n    register: function register() {\n      var _this = this;\n\n      console.log(\"打桩\"); //1.1判断是否为空\n\n      if (this.uname == \"\") {\n        this.uname_popupVisible = true;\n        return;\n      } else if (this.uname !== \"\" && this.upwd == \"\") {\n        this.upwd_popupVisible = true;\n        return;\n      } else if (this.uname !== \"\" && this.upwd !== \"\" && this.upwdAgain == \"\") {\n        this.upwdAgain_popupVisible = true;\n        return;\n      } else if (this.upwd !== this.upwdAgain) {\n        this.upwdErr_popupVisible = true;\n        return;\n      }\n\n      var url = \"/register\";\n      var obj = {\n        uname: this.uname,\n        upwd: this.upwd\n      }; //1.2发送请求,添加用户\n\n      this.axios.get(url, {\n        params: obj\n      }).then(function (result) {\n        //console.log(result);\n        if (result.data == 200) {\n          //如果返回值为200\n          return new Promise(function (open) {\n            //设置promise\n            _this.$toast({\n              //弹出提示\n              message: '注册成功',\n              position: 'middle',\n              duration: 1000\n            });\n          }).then(setTimeout(function () {\n            //一秒后跳转\n            _this.$router.push('/login');\n          }, 1000));\n        }\n      });\n    },\n    //2.失去焦点,判断用户名是否被注册过\n    hasUname: function hasUname() {\n      var _this2 = this;\n\n      //如果不是空,验证用户名是否存在\n      if (this.uname) {\n        var url = \"/hasUname\";\n        var obj = {\n          uname: this.uname\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          //console.log(result.data);\n          if (result.data == 200) {\n            //已被注册\n            _this2.has = true;\n          } else _this2.has = false;\n        });\n      }\n    }\n  },\n  components: {\n    titlebar: titlebar\n  }\n};",{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA,OAAA,QAAA,MAAA,mBAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,MADA;AAEA,aAAA,EAFA;AAGA,YAAA,EAHA;AAIA,iBAAA,EAJA;AAKA,0BAAA,KALA;AAMA,yBAAA,KANA;AAOA,8BAAA,KAPA;AAQA,4BAAA,KARA;AASA,WAAA;AATA,KAAA;AAYA,GAdA;AAeA,WAAA;AACA;AACA,YAFA,sBAEA;AAAA;;AACA,cAAA,GAAA,CAAA,IAAA,EADA,CAEA;;AACA,UAAA,KAAA,KAAA,IAAA,EAAA,EAAA;AACA,aAAA,kBAAA,GAAA,IAAA;AACA;AACA,OAHA,MAGA,IAAA,KAAA,KAAA,KAAA,EAAA,IAAA,KAAA,IAAA,IAAA,EAAA,EAAA;AACA,aAAA,iBAAA,GAAA,IAAA;AACA;AACA,OAHA,MAGA,IAAA,KAAA,KAAA,KAAA,EAAA,IAAA,KAAA,IAAA,KAAA,EAAA,IAAA,KAAA,SAAA,IAAA,EAAA,EAAA;AACA,aAAA,sBAAA,GAAA,IAAA;AACA;AACA,OAHA,MAGA,IAAA,KAAA,IAAA,KAAA,KAAA,SAAA,EAAA;AACA,aAAA,oBAAA,GAAA,IAAA;AACA;AACA;;AACA,UAAA,MAAA,WAAA;AACA,UAAA,MAAA;AACA,eAAA,KAAA,KADA;AAEA,cAAA,KAAA;AAFA,OAAA,CAjBA,CAqBA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,YAAA,OAAA,IAAA,IAAA,GAAA,EAAA;AAAA;AACA,iBAAA,IAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AAAA;AACA,kBAAA,MAAA,CAAA;AAAA;AACA,uBAAA,MADA;AAEA,wBAAA,QAFA;AAGA,wBAAA;AAHA,aAAA;AAKA,WANA,EAMA,IANA,CAOA,WAAA,YAAA;AAAA;AACA,kBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAFA,EAEA,IAFA,CAPA,CAAA;AAYA;AACA,OAhBA;AAiBA,KAzCA;AA0CA;AACA,YA3CA,sBA2CA;AAAA;;AACA;AACA,UAAA,KAAA,KAAA,EAAA;AACA,YAAA,MAAA,WAAA;AACA,YAAA,MAAA;AAAA,iBAAA,KAAA;AAAA,SAAA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,kBAAA;AAAA,SAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,cAAA,OAAA,IAAA,IAAA,GAAA,EAAA;AACA;AACA,mBAAA,GAAA,GAAA,IAAA;AACA,WAHA,MAGA,OAAA,GAAA,GAAA,KAAA;AACA,SANA;AAOA;AAEA;AAzDA,GAfA;AA0EA,cAAA;AACA;AADA;AA1EA,CAAA","sourcesContent":["<template>\r\n    <div class=\"register\" >\r\n        <!-- 网页头 -->\r\n        <titlebar :title=\"title\" ></titlebar>\r\n\r\n         <div class=\"register-main\" style=\"position:relative\">\r\n            <input type=\"text\" placeholder=\"账户名/手机号/Email\" v-model=\"uname\" @blur=\"hasUname\">\r\n            <span class=\"err\" v-show=\"has\">该用户名已被注册</span>\r\n            <mt-popup \r\n                v-model=\"uname_popupVisible\"\r\n                position=\"middle\">\r\n                <div class=\"mt-uname\">\r\n                   此段不能为空\r\n                </div>\r\n            </mt-popup>\r\n            <input type=\"password\" placeholder=\"请输入您的密码\" v-model=\"upwd\">\r\n            <mt-popup\r\n                v-model=\"upwd_popupVisible\"\r\n                position=\"middle\">\r\n                <div class=\"mt-upwd\">\r\n                   此段不能为空\r\n                </div>\r\n            </mt-popup>\r\n            <input type=\"password\" placeholder=\"请再次输入您的密码\" v-model=\"upwdAgain\" >\r\n            <mt-popup\r\n                v-model=\"upwdAgain_popupVisible\"\r\n                position=\"middle\">\r\n                <div class=\"mt-upwdAgain\">\r\n                   此段不能为空\r\n                </div>\r\n            </mt-popup>\r\n            <mt-popup\r\n                v-model=\"upwdErr_popupVisible\"\r\n                position=\"middle\">\r\n                <div class=\"mt-upwdErr\">\r\n                   两次密码不一致\r\n                </div>\r\n            </mt-popup>\r\n            <mt-button size=\"large\" type=\"danger\" @click=\"register\">注册</mt-button>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//引入titlebar\r\nimport titlebar from \"./common/titlebar\"\r\nexport default {\r\n    data(){\r\n        return{\r\n            title:\"跳跳电影\",\r\n            uname:\"\",\r\n            upwd:\"\",\r\n            upwdAgain:\"\",\r\n            uname_popupVisible:false,\r\n            upwd_popupVisible:false,\r\n            upwdAgain_popupVisible:false,\r\n            upwdErr_popupVisible:false,\r\n            has:false\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        //1.注册事件\r\n        register(){\r\n            console.log(\"打桩\");\r\n            //1.1判断是否为空\r\n            if(this.uname==\"\"){\r\n                this.uname_popupVisible=true;\r\n                return\r\n            }else if(this.uname!==\"\" && this.upwd==\"\"){\r\n                this.upwd_popupVisible=true;\r\n                return;\r\n            }else if(this.uname!==\"\" && this.upwd!==\"\" &&this.upwdAgain==\"\"){\r\n                this.upwdAgain_popupVisible=true;\r\n                return;\r\n            }else if(this.upwd!==this.upwdAgain){\r\n                this.upwdErr_popupVisible=true;\r\n                return;\r\n            }\r\n            var url=\"/register\";\r\n            var obj={\r\n                uname:this.uname,\r\n                upwd:this.upwd\r\n            };\r\n            //1.2发送请求,添加用户\r\n            this.axios.get(url,{params:obj}).then(result=>{\r\n                //console.log(result);\r\n                if(result.data==200){ //如果返回值为200\r\n                    return new Promise((open)=>{  //设置promise\r\n                        this.$toast({  //弹出提示\r\n                        message:'注册成功',\r\n                        position:'middle',\r\n                        duration:1000\r\n                        });\r\n                    }).then(\r\n                        setTimeout(()=>{ //一秒后跳转\r\n                            this.$router.push('/login')\r\n                        },1000)\r\n                        \r\n                    )     \r\n                }\r\n            })\r\n        },\r\n        //2.失去焦点,判断用户名是否被注册过\r\n        hasUname(){\r\n            //如果不是空,验证用户名是否存在\r\n            if(this.uname){\r\n                var url=\"/hasUname\";\r\n                var obj={uname:this.uname};\r\n                this.axios.get(url,{params:obj}).then(result=>{\r\n                    //console.log(result.data);\r\n                    if(result.data==200){\r\n                        //已被注册\r\n                        this.has=true\r\n                    }else(this.has=false)\r\n                })\r\n            }\r\n           \r\n        }\r\n    },\r\n    components:{\r\n        titlebar\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    div.register-main{\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-top: 5px;\r\n    }\r\n    div.register-main input{\r\n        outline: none;\r\n        border: 0;\r\n        height: 2rem;\r\n        padding-top: 0.5rem;\r\n        padding-bottom: 0.5rem;\r\n        padding-left: 0.8rem;\r\n        border-bottom: 1px solid #ccc;\r\n    }\r\n    div.register-main button{\r\n        width: 345px;height: 3rem;\r\n        margin: 0.5rem auto;\r\n        font-size: 1.3rem;\r\n        \r\n    }\r\n    div.register-main span.err{\r\n        position: absolute;\r\n        font-size: 0.8rem;\r\n        color: red;\r\n        top:1rem;\r\n        left: 60%;\r\n    }\r\n    /* 提示 */\r\n     /* mt-popup */\r\n    div.mt-uname{\r\n        width: 10.5rem;\r\n        height: 2rem;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n        position: absolute;\r\n        top:-21rem;\r\n        left:-5rem;\r\n        text-align: center;\r\n        line-height: 2rem;\r\n        font-size: 1rem;\r\n        color:red;\r\n    }\r\n    div.mt-upwd{\r\n        width: 10.5rem;\r\n        height: 2rem;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n        position: absolute;\r\n        top:-18rem;\r\n        left:-5rem;\r\n        text-align: center;\r\n        line-height: 2rem;\r\n        font-size: 1rem;\r\n        color:red;\r\n    }\r\n    div.mt-upwdAgain{\r\n        width: 10.5rem;\r\n        height: 2rem;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n        position: absolute;\r\n        top:-15rem;\r\n        left:-5rem;\r\n        text-align: center;\r\n        line-height: 2rem;\r\n        font-size: 1rem;\r\n        color:red;\r\n    }\r\n    div.mt-upwdErr{\r\n        width: 10.5rem;\r\n        height: 2rem;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n        position: absolute;\r\n        top:-15rem;\r\n        left:-5rem;\r\n        text-align: center;\r\n        line-height: 2rem;\r\n        font-size: 1rem;\r\n        color:red;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components\\film"}]}